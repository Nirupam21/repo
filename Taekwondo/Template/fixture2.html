{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fixtures</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <script>
     function Fixture()
      {
           document.write('<body class="fixtable2" background="{% static 'images/img6.jpg' %}">');
           document.write('<h1 align="middle" style="color:white;">Fixture Table<br/><br/></h1>');
           var arr=[];
           count=0;
           document.write('{% for row in record %}');
               arr.push("<b>{{row.name}}--->{{row.PlayingFor}}</b>");
               count++;
           document.write('{% endfor %}');
           if(count>2 && count<4){
              a=4;
            }
            else if(count>4 && count<8){
              a=8;
            }
             if(count>8 && count<16){
              a=16;
            }
             if(count>16 && count<32){
              a=32;
            }
             if(count>32 && count<64){
              a=64;
            }
             if(count>64 && count<128){
              a=128;
            }
            b=a-count;
            nb=count-b;
            c=0;
            match=0;
            document.write('<br/>','<h3 style="color:white;">Round of ',a,' :</h3>');
            for(i=1;i<=nb;i++){
                c++;
                rand = arr[Math.floor(Math.random() * arr.length)];
                document.write('<table cellpadding="10">');
                    document.write('<tr>');
                        document.write('<td style="color:orange;">',rand,'</td>');
                         if(c%2!=0){
                                document.write('<td><br/><br/><br/><select>');
                                document.write('<option>Select Winner</option>');
                                document.write('{% for row in record %}');
						           document.write('<option>{{row.name}}--->{{row.PlayingFor}}</option>');
						        document.write('{% endfor %}');
					            document.write('</select></td>');
                           }
                    document.write('</tr>');
                document.write('</table>');
                d=arr.indexOf(rand);
                arr.splice(d,1);
            }
            a=a/2;
            c=0;
            document.write('<br/>','<h3 style="color:white;">Round of ',a,' :</h3>');
            for(i=1;i<=b;i++){
               c++;
               rand = arr[Math.floor(Math.random() * arr.length)];
               document.write('<table cellpadding="10">');
                   document.write('<tr>');
                        document.write('<td style="color:orange;">',rand,'</td>');
                        if(c%2!=0){
                                document.write('<td><br/><br/><br/><select>');
                                document.write('<option>Select Winner</option>');
                                document.write('{% for row in record %}');
						           document.write('<option>{{row.name}}--->{{row.PlayingFor}}</option>');
						        document.write('{% endfor %}');
					            document.write('</select></td>');
                           }
                   document.write('</tr>');
               document.write('</table>');
               e=arr.indexOf(rand);
               arr.splice(e,1);
             }
             for(i=0;i<a-b;i++){
                match++;
                c++;
                document.write('<table cellpadding="10">');
                 document.write('<tr>');
                   document.write('<td><select>');
                   document.write('<option>Winner of match ',match,'</option>');
                   document.write('{% for row in record %}');
			       document.write('<option>{{row.name}}--->{{row.PlayingFor}}</option>');
			       document.write('{% endfor %}');
			       document.write('</select><br/></td>');
			       if(c%2!=0){
                                document.write('<td><br/><br/><br/><select>');
                                document.write('<option>Select Winner</option>');
                                document.write('{% for row in record %}');
						           document.write('<option>{{row.name}}--->{{row.PlayingFor}}</option>');
						        document.write('{% endfor %}');
					            document.write('</select></td>');
                             }
                 document.write('</tr>');
                document.write('</table>');
			   }
	  a=a/2;
      while(a>=2){
           c=0;
           document.write('<br/>','<h3 style="color:black;">Round of ',a,' :</h3>');
           for(i=0;i<a;i++){
                match++;
                document.write('<table cellpadding="10">');
                document.write('<tr>');
                c++;
                document.write('<td><select>');
                document.write('<option>Winner of Match ',match,'</option>');
                document.write('{% for row in record %}');
			        document.write('<option>{{row.name}}--->{{row.PlayingFor}}</option>');
			    document.write('{% endfor %}');
			    document.write('</select></td>');
                if(c%2!=0){
                     document.write('<td><br/><br/><br/><select>');
                     document.write('<option>Select Winner</option>');
                     document.write('{% for row in record %}');
						    document.write('<option>{{row.name}}--->{{row.PlayingFor}}</option>');
				     document.write('{% endfor %}');
					 document.write('</select></td>');
                }
                document.write('</tr>');
                document.write('</table>');
            }
            a=a/2;
       }
       document.write('</body>');
       document.write('<style>');
             document.write('.fixtable2{background-size:1400px;color:orange;}');
       document.write('</style>');
   }
</script>
 <style>
     .fix2{
            background-size:1400px;
            color:orange;
          }
 </style>
</head>
<body class="fix2" background="{% static 'images/img6.jpg' %}">
     <h1 style="color:white" align="center"><u>Players List</u><br/><br/></h1>
                    {% for row in record %}
                          <p>{{row.name}}--->{{row.PlayingFor}}</p>
                    {% endfor %}
                    <button onclick="Fixture()" class="btn btn-success">Generate Fixture</button>
</body>
</html>